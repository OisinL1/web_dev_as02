<!DOCTYPE html>
<html class="has-background-white" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Release-2-Dash</title>
    <script src="../data/weather_data.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />
    <style>
        .is-family-sans-serif {
            font-family: 'Arial', sans-serif;
        }
    </style>
    <script>
            
            document.addEventListener("DOMContentLoaded", () => {
                const cities = ["amsterdam", "berlin","copenhagen","paris","waterford","cork"]; 
                cities.forEach(city => {
                const currentCity = city;
                console.log(city);
                const currentCityData = weatherData[currentCity + "_daily"]
                const time = document.getElementById("time");
                //const weatherCode = document.getElementById("weatherCode");
                const temperature_2m_max = document.getElementById("temperature_2m_max_"+ currentCity);
                const temperature_2m_min = document.getElementById("temperature_2m_min_"+ currentCity);

                

                //time.innerHTML = currentCityData.daily.time[0];
                temperature_2m_max.innerHTML = currentCityData.daily.temperature_2m_max[0]+ "°C";
                temperature_2m_min.innerHTML = currentCityData.daily.temperature_2m_min[0]+ "°C"; 
                //weatherCode.innerHTML = currentCityData.daily.weather_code[0];
                 });
                //mapping image to weather code
                document.querySelectorAll("[id^=wc-]").forEach(image => {
                        const cityName = image.id.replace('wc-','');
                        const cityData = weatherData[cityName + "_daily"]
                        const weatherCode = cityData.daily.weather_code[0];
                        console.log(weatherCode);
                        
                        let imagePath;

                        if (weatherCode === 1) {
                            imagePath = "../images/sunblack.png";
                        } else if (weatherCode >= 2 && weatherCode <= 2) {
                            imagePath = "../images/sleet.png";
                        } else if (weatherCode >= 3 && weatherCode <= 3) {
                            imagePath = "../images/frost.png";
                        } else if (weatherCode >= 61 && weatherCode <= 61) {
                            imagePath = "../images/cloudy.png";
                        }else {
                                    imagePath = "../images/cloud_gust.png";
                            }

                        image.src = imagePath;


                    });
                document.querySelectorAll("[id^=fave-]").forEach(paragraph => {
                //const element = document.getElementById(paragraph.id);
                const cityName = paragraph.id.replace('fave-','');
                const isFavourite = localStorage.getItem(cityName) === 'true';
                console.log(isFavourite);
                // if isFavourite, set className to 'favouriteStyle', else set it to 'notFavouriteStyle'
                if (isFavourite) {
                    //paragraph.textContent += " favorite";
                    paragraph.textContent += " (favorite)";
                }
              });


            });

            
    </script>
</head>
<body>
    <main class="columns is-multiline box">
        <div class="column is-3">
            <figure class="image">
                <img src="../images/logo.png"/>
            </figure>
        </div>
        <div class="column is-6 is-offset-1 has-text-centered has-text-black mt-3">
             <!-- <h1 class="title is-1 has-text-black has-text-centered mt-6 has-text-weight-bold">Dashboard</h1>
             <p class="subtitle is-5 has-text-black has-text-centered has-text-weight-bold">Today</p> -->


<nav class="navbar" role="navigation" aria-label="main navigation">
  

  <div id="navbarBasicExample" class="navbar-menu">


      <!-- <a class="navbar-item">
        Documentation
      </a> -->

      <div class="navbar-start">
      <a class="navbar-item">
        <div class="column is-12 has-text-centered has-text-black mt-3">
        <h1 class="title is-1 has-text-blue has-text-centered mt-6 has-text-weight-bold"style="color: blue;">Dashboard</h1>
        <!-- <p class="subtitle is-5 has-text-black has-text-centered has-text-weight-bold">Today</p> -->
    </div>
      </a>

      <a class="navbar-item" href = settings.html>
        <div class="column is-12 has-text-centered has-text-black mt-3">
        <h1 class="title is-1 has-text-black has-text-centered mt-6 has-text-weight-bold">Settings</h1>
        <p class="subtitle is-5 has-text-black has-text-centered has-text-weight-bold"></p>

    </div>
      </a>

      <!-- <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item">
            About
          </a>
          <a class="navbar-item is-selected">
            Jobs
          </a>
          <a class="navbar-item">
            Contact
          </a>
          <hr class="navbar-divider">
          <a class="navbar-item">
            Report an issue
          </a>
        </div>
      </div>
    </div> -->

    <div class="navbar-end">
    </div>
  </div>
</nav>
        </div>
        <div class="container">
            <div class="columns is-centered">
                <div class="column is-one-quarter">
                    <a href=city_focus.html?city=amsterdam>
                        <section class="card has-text-centered has-background-black">
                            <header class="card-header has-text-white">
                                <p id = "fave-Amsterdam" class="card-header-title is-centered has-text-white">Amsterdam </p>
                            </header>
                            <div class="card-image">
                                <figure class="image is-20x20"> 
                                    <img id = "wc-amsterdam" src="../images/sunblack.png">
                                </figure>
                             </div>
                            <div class="card-content has-text-white is-flex">               
                                <p  class= "is-flex-grow-1 has-text-left"><span id="temperature_2m_min_amsterdam"></p> 
                                <p  class="has-text-right ml-4"><span id="temperature_2m_max_amsterdam"></span></p>                               
                            </div>
                            <footer class="card-footer">
                            </footer>
                        </section>
                    </a>
                </div>
                <div class="column is-one-quarter">
                    <a href=city_focus.html?city=berlin>
                    <section class="card has-text-centered has-background-black">
                        <header class="card-header has-text-white">
                            <p id = "fave-Berlin" class="card-header-title is-centered has-text-white"> Berlin</p>
                        </header>
                        <div class="card-image">
                            <figure class="image is-20x20"> 
                                <img id = "wc-berlin" src="../images/sunblack.png">
                            </figure>
                         </div>
                        <div class="card-content has-text-white is-flex">               
                            <p class= "is-flex-grow-1 has-text-left"><span id="temperature_2m_min_berlin"></p> 
                            <p  class="has-text-right ml-4"><span id="temperature_2m_max_berlin"></span></p>                               
                        </div>
                        <footer class="card-footer">
                        </footer>
                    </section>
                </a>
                </div>
                <div class="column is-one-quarter">
                <a href=city_focus.html?city=copenhagen>
                    <section class="card has-text-centered has-background-black">
                        <header class="card-header has-text-white">
                            <p id = "fave-Copenhagen" class="card-header-title is-centered has-text-white"> Copenhagen</p>
                        </header>
                        <div class="card-image">
                            <figure class="image is-20x20"> 
                                <img id = "wc-copenhagen" src="../images/sunblack.png">
                            </figure>
                         </div>
                        <div class="card-content has-text-white is-flex">               
                            <p class= "is-flex-grow-1 has-text-left"><span id="temperature_2m_min_copenhagen"></span></p> 
                            <p class="has-text-right ml-4"> <span id="temperature_2m_max_copenhagen"></span></p>                               
                        </div>
                        <footer class="card-footer">
                        </footer>
                    </section>
                </a>
                </div>
            </div>
            <div class="columns is-centered">
                <div class="column is-one-quarter">
                    <a href=city_focus.html?city=cork>
                        <section class="card has-text-centered has-background-black">
                            <header class="card-header has-text-white">
                                <p id = "fave-Cork" class="card-header-title is-centered has-text-white"><span id="fave-Cork"></span> Cork</p>
                            </header>
                            <div class="card-image">
                                <figure class="image is-20x20"> 
                                    <img id = "wc-cork" src="../images/sunblack.png">
                                </figure>
                             </div>
                            <div class="card-content has-text-white is-flex">               
                                <p class= "is-flex-grow-1 has-text-left"><span id="temperature_2m_min_cork"></span></p> 
                                <p class="has-text-right ml-4"><span id="temperature_2m_max_cork"></span></p>                               
                            </div>
                            <footer class="card-footer">
                            </footer>
                        </section>
                    </a>
                </div>
                <div class="column is-one-quarter">
                    <a href=city_focus.html?city=paris>
                        <section class="card has-text-centered has-background-black">
                            <header class="card-header has-text-white">
                                <p id = "fave-Paris" class="card-header-title is-centered has-text-white">Paris</p>
                            </header>
                            <div class="card-image">
                                <figure class="image is-20x20"> 
                                    <img id = "wc-paris" src="../images/sunblack.png">
                                </figure>
                             </div>
                            <div class="card-content has-text-white is-flex">               
                                <p class= "is-flex-grow-1 has-text-left"><span id="temperature_2m_min_paris"></span></p> 
                                <p class="has-text-right ml-4"><span id="temperature_2m_max_paris"></span></p>                               
                            </div>
                            <footer class="card-footer">
                            </footer>
                        </section>
                    </a>
                </div>
                <div class="column is-one-quarter">
                    <a href=city_focus.html?city=waterford>
                        <section class="card has-text-centered has-background-black">
                            <header class="card-header has-text-white">
                                <p id = "fave-Waterford" class="card-header-title is-centered has-text-white"> Waterford</p>
                            </header>
                            <div class="card-image">
                                <figure class="image is-20x20"> 
                                    <img id = "wc-amsterdam" src="../images/sunblack.png">
                                </figure>
                             </div>
                            <div class="card-content has-text-white is-flex">               
                                <p class= "is-flex-grow-1 has-text-left"><span id="temperature_2m_min_waterford"></span></p> 
                                <p class="has-text-right ml-4"><span id="temperature_2m_max_waterford"></span></p>                               
                            </div>
                            <footer class="card-footer">
                            </footer>
                        </section>
                    </a>
                </div>
            </div>
        </div>

        
         


    </main>
    <!--p>The time is <span id="time"></span></p>
    <p>The weather code is <span id="weatherCode"></span></p-->
</body>
</html>